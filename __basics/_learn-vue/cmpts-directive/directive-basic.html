<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Vue 测试实例</title>

    <script src="http://apps.bdimg.com/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="https://cdn.bootcss.com/layer/3.1.0/layer.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

    <style>
        p {
            cursor: pointer;
        }
    </style>

</head>

<body>

<div id="app">

    <div v-style="{ color: 'green', text: '\asd!' }"></div>

    <p @click="toggle" :style="">你看得见六娃吗?(click)</p>
    <template v-if="seen">
        <p> >六娃< </p>
    </template>

    <input v-focus v-blur placeholder="我自动FOUCS的👦">

</div>

<script type="application/ecmascript">
    Vue.directive('style', function (el, binding) {
        // 简写方式设置文本及背景颜色
        el.innerHTML = binding.value.text
        el.style.backgroundColor = binding.value.color
    })

    // // 注册一个全局v-focus
    Vue.directive('blur', {
        // 当绑定元素插入到 DOM 中
        inserted: function(el) {
            el.addEventListener('blur', function () {
                layer.alert('失去焦点')
            })
        }
    })


    new Vue({
        el: '#app',
        data: {
            seen: false // 使看不见
        },
        methods: {
            toggle () {
                this.seen = !this.seen
            }
        },

        directives: {
            // 注册一个局部的v-focus
            focus: {
                inserted: function (el) {
                    layer.msg('获得焦点')
                    el.focus()

                    // 当然访问不到
                    // console.log(this.seen)
                    // this.seen = true
                }
            }
        }
    })
</script>
</body>

</html>
